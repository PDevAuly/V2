{"ast":null,"code":"// src/App.js\nimport React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Login from'./pages/login';import Register from'./pages/register';import Dashboard from'./pages/dashboard';import'./pages/login.css';import'./pages/register.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){const[isAuthenticated,setIsAuthenticated]=useState(false);const[loading,setLoading]=useState(true);// Beim App-Start: Prüfen ob User eingeloggt ist\nuseEffect(()=>{const token=localStorage.getItem('userToken');const userData=localStorage.getItem('userData');if(token&&userData){setIsAuthenticated(true);}setLoading(false);},[]);// Login-Handler\nconst handleLogin=userData=>{localStorage.setItem('userToken','logged_in');localStorage.setItem('userData',JSON.stringify(userData));setIsAuthenticated(true);};// Logout-Handler\nconst handleLogout=()=>{localStorage.removeItem('userToken');localStorage.removeItem('userData');setIsAuthenticated(false);};// Während Authentifizierung geprüft wird\nif(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Lade...\"});}return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Login,{onLoginSuccess:handleLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:isAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true}):/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:isAuthenticated?/*#__PURE__*/_jsx(Dashboard,{onLogout:handleLogout}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})})]})});}","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Login","Register","Dashboard","jsx","_jsx","jsxs","_jsxs","App","isAuthenticated","setIsAuthenticated","loading","setLoading","token","localStorage","getItem","userData","handleLogin","setItem","JSON","stringify","handleLogout","removeItem","children","path","element","to","replace","onLoginSuccess","onLogout"],"sources":["C:/Users/Ashraf/projekt-pauly/client/src/App.js"],"sourcesContent":["// src/App.js\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\n\nimport Login from './pages/login';\nimport Register from './pages/register';\nimport Dashboard from './pages/dashboard';\n\nimport './pages/login.css';\nimport './pages/register.css';\n\nexport default function App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [loading, setLoading] = useState(true);\n\n  // Beim App-Start: Prüfen ob User eingeloggt ist\n  useEffect(() => {\n    const token = localStorage.getItem('userToken');\n    const userData = localStorage.getItem('userData');\n    \n    if (token && userData) {\n      setIsAuthenticated(true);\n    }\n    setLoading(false);\n  }, []);\n\n  // Login-Handler\n  const handleLogin = (userData) => {\n    localStorage.setItem('userToken', 'logged_in');\n    localStorage.setItem('userData', JSON.stringify(userData));\n    setIsAuthenticated(true);\n  };\n\n  // Logout-Handler\n  const handleLogout = () => {\n    localStorage.removeItem('userToken');\n    localStorage.removeItem('userData');\n    setIsAuthenticated(false);\n  };\n\n  // Während Authentifizierung geprüft wird\n  if (loading) {\n    return <div>Lade...</div>;\n  }\n\n  return (\n    <Router>\n      <Routes>\n        <Route \n          path=\"/\" \n          element={\n            isAuthenticated ? \n            <Navigate to=\"/dashboard\" replace /> : \n            <Navigate to=\"/login\" replace />\n          } \n        />\n        \n        <Route \n          path=\"/login\" \n          element={\n            isAuthenticated ? \n            <Navigate to=\"/dashboard\" replace /> : \n            <Login onLoginSuccess={handleLogin} />\n          } \n        />\n        \n        <Route \n          path=\"/register\" \n          element={\n            isAuthenticated ? \n            <Navigate to=\"/dashboard\" replace /> : \n            <Register />\n          } \n        />\n        \n        <Route \n          path=\"/dashboard\" \n          element={\n            isAuthenticated ? \n            <Dashboard onLogout={handleLogout} /> : \n            <Navigate to=\"/login\" replace />\n          } \n        />\n      </Routes>\n    </Router>\n  );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}