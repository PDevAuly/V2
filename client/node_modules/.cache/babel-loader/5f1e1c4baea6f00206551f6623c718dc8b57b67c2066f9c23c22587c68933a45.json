{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';// hinzufügen\nimport'./login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=_ref=>{let{onLoginSuccess}=_ref;const[email,setEmail]=useState('');const[passwort,setPasswort]=useState('');const[error,setError]=useState('');const handleSubmit=async e=>{e.preventDefault();try{const res=await fetch('/api/auth/login',{// optional: relativ, wenn Proxy\nmethod:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({email,passwort})});const data=await res.json();if(res.ok){onLoginSuccess===null||onLoginSuccess===void 0?void 0:onLoginSuccess(data.user);// falls Prop fehlt, kein Crash\n}else{setError(data.error||'Unbekannter Fehler beim Login');}}catch(err){setError('Serverfehler – bitte später erneut versuchen');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login-page\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/pauly_logo4.png\",alt:\"Pauly Logo\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"overlay\",children:/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"con\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"head-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Anmelden\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Bitte logge dich mit deiner E-Mail und deinem Passwort ein\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"field-set\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"email\",placeholder:\"E-Mail\",value:email,onChange:e=>setEmail(e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{className:\"form-input\",type:\"password\",placeholder:\"Passwort\",value:passwort,onChange:e=>setPasswort(e.target.value),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"log-in\",children:\"Anmelden\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red',marginTop:'10px'},children:error})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"other\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn submits frgt-pass\",children:\"Passwort vergessen ?\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn submits sign-up\",children:\"Registrieren\"})]})]})})})]});};export default Login;","map":{"version":3,"names":["React","useState","Link","jsx","_jsx","jsxs","_jsxs","Login","_ref","onLoginSuccess","email","setEmail","passwort","setPasswort","error","setError","handleSubmit","e","preventDefault","res","fetch","method","headers","body","JSON","stringify","data","json","ok","user","err","className","children","src","alt","onSubmit","type","placeholder","value","onChange","target","required","style","color","marginTop","to"],"sources":["C:/Users/Ashraf/projekt-pauly/client/src/pages/login.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';   // hinzufügen\r\nimport './login.css';\r\n\r\nconst Login = ({ onLoginSuccess }) => {\r\n  const [email, setEmail] = useState('');\r\n  const [passwort, setPasswort] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch('/api/auth/login', {         // optional: relativ, wenn Proxy\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, passwort }),\r\n      });\r\n      const data = await res.json();\r\n\r\n      if (res.ok) {\r\n        onLoginSuccess?.(data.user);                       // falls Prop fehlt, kein Crash\r\n      } else {\r\n        setError(data.error || 'Unbekannter Fehler beim Login');\r\n      }\r\n    } catch (err) {\r\n      setError('Serverfehler – bitte später erneut versuchen');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login-page\">\r\n      <header className=\"logo\">\r\n        <img src=\"/pauly_logo4.png\" alt=\"Pauly Logo\" />\r\n      </header>\r\n      <div className=\"overlay\">\r\n        <form onSubmit={handleSubmit}>\r\n          <div className=\"con\">\r\n            <header className=\"head-form\">\r\n              <h2>Anmelden</h2>\r\n              <p>Bitte logge dich mit deiner E-Mail und deinem Passwort ein</p>\r\n            </header>\r\n\r\n            <div className=\"field-set\">\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"email\"\r\n                placeholder=\"E-Mail\"\r\n                value={email}\r\n                onChange={(e) => setEmail(e.target.value)}\r\n                required\r\n              />\r\n              <input\r\n                className=\"form-input\"\r\n                type=\"password\"\r\n                placeholder=\"Passwort\"\r\n                value={passwort}\r\n                onChange={(e) => setPasswort(e.target.value)}\r\n                required\r\n              />\r\n              <button type=\"submit\" className=\"log-in\">\r\n                Anmelden\r\n              </button>\r\n              {error && <p style={{ color: 'red', marginTop: '10px' }}>{error}</p>}\r\n            </div>\r\n\r\n            <div className=\"other\">\r\n              <button type=\"button\" className=\"btn submits frgt-pass\">\r\n                Passwort vergessen ?\r\n              </button>\r\n              {/* ✅ React Router Link */}\r\n              <Link to=\"/register\" className=\"btn submits sign-up\">\r\n                Registrieren\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}