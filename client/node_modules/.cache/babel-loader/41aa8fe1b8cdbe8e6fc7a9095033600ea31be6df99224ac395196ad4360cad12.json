{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{ChevronRight,ChevronDown}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function CalculationSection(_ref){var _calculationForm$stun;let{customers,calculationForm,setCalculationForm,mwst,setMwst,loading,onSubmit,isDark}=_ref;const TEMPLATE=[{section:'Vorbereitende Maßnahmen',items:['Aufbau Testumgebung','Installation Firmware Server','Konfiguration Server','Lizenzregistrierungen VMWare,Veeam, VLSC/OpenLicense','Konfiguration USV inkl. Shutdown etc.','Installatioin/Firmwareupdates/Grundkonfiguration MSA','Installatioin/Firmwareupdates/Grundkonfiguration Nimble','Einrichten Volumes','Konfiguration Nimble Peer Persistance','Konfiguration SAN (iSCI)','Konfiguration SAN (Fibre Channel, Zoning)','Konfiguration Storageanbindung (Neusysteme/Altsysteme zur Migration)','Installation und Patchen Betriebssystem VMWare','Installation und Patchen Betriebssystem Windows Server','Installation und Patchen pro Windows-VM','Installation/Grundkonfiguration Hyper-V','Installation/Grundkonfiguration VCSA','Konfiguration VMWare-Dienste (HA etc.)','Installation/Grundkonfiguration Active Directory inkl. Serverrollen (DNS,DHCP etc.)']},{section:'Hardware-Arbeiten vor Ort',items:['Einbau Hardware vor Ort','Rackumbau','Konfiguration Switch Management, pro VLAN']},{section:'Software-Arbeiten (Remote)',items:['Migrationsvorbereitungen (Patchen Altsysteme) pro System','Einrichtung/Migration Active Directory pro User','Konfiguration pro Gruppenrichtlinie','Installation/Grundkonfiguration Exchange Server','Konfiguration Exchange DAG','Migration Exchange-Mailbox pro User','Migration Public Folder-Datenbank pro PF','Konfiguration Mail-Filtertools','Grundkonfiguration Exchange Online Admin-Portal','Migration zu Exchange Online mit Office 365 pro Konto','Neueinrichtung Exchange Online 365 ohne bisherigen Exchange','Konfiguration Azure AD-Sync','Neuinstallation/Migration SEPM','Rollout SEPM-Pakete, ggf. Konfiguration Policies','Rollout Sophos','Rollout/Prüfung Monitoring','Installation/Migration Mailstore','Migration pro Fachanwendung (Zeitschätzung circa und in Kooperation mit dem Softwarehersteller)','Migration File-Server, neue Shares, ACL','Installation/Konfiguration/Lizensierung Terminal Server','Migration pro VM auf neue Hosts','Virtualisierung pro VM (P-2-V/V-2-V)','Installation, Konfiguration, Test HPDM/UMS','Installation Backup-Software','Backup-Konfiguration und Test']},{section:'Client-Anpassungen vor Ort',items:['Migration pro Client-PC','Grundkonfiguration pro Client-PC (neuer PC)','Einrichten Thin-Client']},{section:'Firewall-Anpassungen / Einrichtung vor Ort',items:['Einrichtung Sonicwall im Netz (Einbau, Einbinden ins Netz, VPN-Zugang, Site-to-Site-VPN)']},{section:'Dokumentation',items:['Dokumentation inkl. Handout für den Kunden']}];// Map: Beschreibung -> Section (für sauberes Speichern)\nconst DESC_TO_SECTION=useMemo(()=>{const m={};TEMPLATE.forEach(sec=>sec.items.forEach(it=>{m[it]=sec.section;}));return m;},[]);// Styles\nconst bgClass=isDark?'bg-gray-800':'bg-white';const borderClass=isDark?'border-gray-700':'border-gray-200';const textClass=isDark?'text-gray-100':'text-gray-900';const textSecondaryClass=isDark?'text-gray-300':'text-gray-700';const textMutedClass=isDark?'text-gray-400':'text-gray-500';const inputClass=isDark?'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500':'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500 focus:border-blue-500';const tableHeaderClass=isDark?'bg-gray-700':'bg-gray-50';const sumBoxClass=isDark?'bg-gray-700':'bg-gray-50';// Accordion (initial: alles zu)\nconst[openSections,setOpenSections]=useState(()=>Object.fromEntries(TEMPLATE.map(s=>[s.section,false])));const toggleSection=section=>setOpenSections(prev=>({...prev,[section]:!prev[section]}));const expandAll=()=>setOpenSections(Object.fromEntries(TEMPLATE.map(s=>[s.section,true])));const collapseAll=()=>setOpenSections(Object.fromEntries(TEMPLATE.map(s=>[s.section,false])));// Seed aus Template\nconst buildSeedFromTemplate=()=>TEMPLATE.flatMap(sec=>sec.items.map(beschreibung=>({beschreibung,anzahl:1,dauer_pro_einheit:0,info:'',stundensatz:undefined,section:sec.section})));useEffect(()=>{setCalculationForm(prev=>{const needsSeed=!(prev!==null&&prev!==void 0&&prev.dienstleistungen)||prev.dienstleistungen.length===0||prev.dienstleistungen.every(d=>!(d!==null&&d!==void 0&&d.beschreibung));return needsSeed?{...prev,dienstleistungen:buildSeedFromTemplate()}:prev;});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);// Update-Helper\nconst updateRow=(beschreibung,patch)=>{setCalculationForm(prev=>{const list=[...(prev.dienstleistungen||[])];const idx=list.findIndex(x=>x.beschreibung===beschreibung);if(idx===-1){list.push({beschreibung,anzahl:1,dauer_pro_einheit:0,info:'',stundensatz:undefined,section:DESC_TO_SECTION[beschreibung]||null,...patch});}else{list[idx]={...list[idx],...patch};}return{...prev,dienstleistungen:list};});};// Rechnen\nconst rowHours=d=>(Number(d.dauer_pro_einheit)||0)*(Number(d.anzahl)||1);const rowRate=d=>{var _d$stundensatz;return Number((_d$stundensatz=d.stundensatz)!==null&&_d$stundensatz!==void 0?_d$stundensatz:calculationForm.stundensatz)||0;};const rowTotal=d=>rowHours(d)*rowRate(d);const sumNetto=(calculationForm.dienstleistungen||[]).reduce((acc,d)=>acc+rowTotal(d),0);const sumMwst=sumNetto*((Number(mwst)||0)/100);const sumBrutto=sumNetto+sumMwst;const sectionSummary=sec=>{const rows=(calculationForm.dienstleistungen||[]).filter(d=>sec.items.includes(d.beschreibung));const count=rows.length;const hours=rows.reduce((a,d)=>a+rowHours(d),0);const total=rows.reduce((a,d)=>a+rowTotal(d),0);return{count,hours,total};};// Submit: nur Kunde als Pflichtfeld, Rest wird „sanitized“\nconst handleSubmit=e=>{e.preventDefault();if(!calculationForm.kunde_id){alert('Bitte einen Kunden auswählen');return;}const defaultRate=calculationForm.stundensatz===undefined||calculationForm.stundensatz===''?null:Number(calculationForm.stundensatz)||0;const sanitized=(calculationForm.dienstleistungen||[]).map(row=>({beschreibung:row.beschreibung,section:row.section||DESC_TO_SECTION[row.beschreibung]||null,anzahl:Number(row.anzahl)||0,dauer_pro_einheit:Number(row.dauer_pro_einheit)||0,info:(row.info||'').trim()||null,stundensatz:row.stundensatz===undefined||row.stundensatz===''?null:Number(row.stundensatz)||0}));const payload={kunde_id:calculationForm.kunde_id,stundensatz:defaultRate,// darf null sein\ndienstleistungen:sanitized,// auch „leere“ Zeilen erlaubt\nmwst:Number(mwst)||0// falls Backend ignoriert, egal\n};// Parent-Handler mit (event, payload) aufrufen\nif(typeof onSubmit==='function'){onSubmit(e,payload);}};return/*#__PURE__*/_jsx(\"div\",{className:`${bgClass} ${borderClass} rounded-lg shadow-sm border p-6`,children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:`block text-sm font-medium ${textSecondaryClass} mb-2`,children:\"Kunde ausw\\xE4hlen *\"}),/*#__PURE__*/_jsxs(\"select\",{required:true,value:calculationForm.kunde_id,onChange:e=>setCalculationForm({...calculationForm,kunde_id:e.target.value}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${inputClass}`,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Kunde w\\xE4hlen...\"}),customers.map(k=>/*#__PURE__*/_jsx(\"option\",{value:k.kunden_id,children:k.firmenname},k.kunden_id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:`block text-sm font-medium ${textSecondaryClass} mb-2`,children:\"Standard-Stundensatz (\\u20AC)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"any\",value:(_calculationForm$stun=calculationForm.stundensatz)!==null&&_calculationForm$stun!==void 0?_calculationForm$stun:'',onChange:e=>setCalculationForm({...calculationForm,stundensatz:e.target.value===''?undefined:Number(e.target.value)}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${inputClass}`,placeholder:\"z. B. 85\"}),/*#__PURE__*/_jsx(\"p\",{className:`text-xs ${textMutedClass} mt-1`,children:\"Wird genutzt, wenn in einer Zeile kein eigener Satz steht.\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:`block text-sm font-medium ${textSecondaryClass} mb-2`,children:\"MwSt (%)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"any\",value:mwst!==null&&mwst!==void 0?mwst:'',onChange:e=>setMwst(e.target.value===''?0:Number(e.target.value)),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${inputClass}`,placeholder:\"z. B. 19\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:expandAll,className:\"px-3 py-1.5 text-sm rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700\",children:\"Alle ausklappen\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:collapseAll,className:\"px-3 py-1.5 text-sm rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700\",children:\"Alle einklappen\"})]}),/*#__PURE__*/_jsx(\"div\",{className:`border-t ${borderClass} pt-4`,children:TEMPLATE.map(sec=>{const open=openSections[sec.section];const sum=sectionSummary(sec);return/*#__PURE__*/_jsxs(\"div\",{className:`mb-4 rounded-lg border ${borderClass} ${isDark?'bg-gray-900':'bg-white'}`,children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:()=>toggleSection(sec.section),\"aria-expanded\":open,className:\"w-full flex items-center justify-between px-4 py-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[open?/*#__PURE__*/_jsx(ChevronDown,{className:`w-5 h-5 ${textMutedClass}`}):/*#__PURE__*/_jsx(ChevronRight,{className:`w-5 h-5 ${textMutedClass}`}),/*#__PURE__*/_jsx(\"h4\",{className:`text-sm md:text-base font-semibold ${textClass}`,children:sec.section})]}),/*#__PURE__*/_jsxs(\"div\",{className:`text-xs md:text-sm ${textMutedClass}`,children:[sum.count,\" Pos. \\u2022 \",sum.hours.toFixed(2),\" h \\u2022\",' ',sum.total.toLocaleString('de-DE',{style:'currency',currency:'EUR'})]})]}),open&&/*#__PURE__*/_jsx(\"div\",{className:`overflow-x-auto border-t ${borderClass}`,children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:`${tableHeaderClass} border-b ${borderClass}`,children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:`px-4 py-2 text-left font-medium ${textSecondaryClass}`,children:\"T\\xE4tigkeit\"}),/*#__PURE__*/_jsx(\"th\",{className:`px-4 py-2 text-right font-medium ${textSecondaryClass}`,children:\"Anzahl\"}),/*#__PURE__*/_jsx(\"th\",{className:`px-4 py-2 text-right font-medium ${textSecondaryClass}`,children:\"Std/Einheit\"}),/*#__PURE__*/_jsx(\"th\",{className:`px-4 py-2 text-right font-medium ${textSecondaryClass}`,children:\"Stundensatz (\\u20AC)\"}),/*#__PURE__*/_jsx(\"th\",{className:`px-4 py-2 text-right font-medium ${textSecondaryClass}`,children:\"Stunden gesamt\"}),/*#__PURE__*/_jsx(\"th\",{className:`px-4 py-2 text-right font-medium ${textSecondaryClass}`,children:\"Betrag (\\u20AC)\"}),/*#__PURE__*/_jsx(\"th\",{className:`px-4 py-2 text-left font-medium ${textSecondaryClass}`,children:\"Notiz\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:`divide-y ${borderClass}`,children:sec.items.map(beschreibung=>{var _row$stundensatz,_calculationForm$stun2;const row=(calculationForm.dienstleistungen||[]).find(d=>d.beschreibung===beschreibung)||{beschreibung,anzahl:1,dauer_pro_einheit:0,info:'',stundensatz:undefined,section:DESC_TO_SECTION[beschreibung]||null};const hours=rowHours(row);const rate=rowRate(row);const total=hours*rate;return/*#__PURE__*/_jsxs(\"tr\",{className:bgClass,children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:/*#__PURE__*/_jsx(\"span\",{className:`${textClass}`,children:beschreibung})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-right\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"any\",value:row.anzahl,onChange:e=>updateRow(beschreibung,{anzahl:Number(e.target.value)||0}),className:`w-24 text-right px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2 text-right\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"any\",value:row.dauer_pro_einheit,onChange:e=>updateRow(beschreibung,{dauer_pro_einheit:Number(e.target.value)||0}),className:`w-28 text-right px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-4 py-2 text-right\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",step:\"any\",value:(_row$stundensatz=row.stundensatz)!==null&&_row$stundensatz!==void 0?_row$stundensatz:'',onChange:e=>updateRow(beschreibung,{stundensatz:e.target.value===''?undefined:Number(e.target.value)}),className:`w-28 text-right px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`,placeholder:String((_calculationForm$stun2=calculationForm.stundensatz)!==null&&_calculationForm$stun2!==void 0?_calculationForm$stun2:'')}),/*#__PURE__*/_jsxs(\"p\",{className:`text-[10px] ${textMutedClass} mt-0.5`,children:[\"leer = \",Number(calculationForm.stundensatz||0).toFixed(2),\" \\u20AC\"]})]}),/*#__PURE__*/_jsx(\"td\",{className:`px-4 py-2 text-right tabular-nums ${textClass}`,children:hours.toFixed(2)}),/*#__PURE__*/_jsx(\"td\",{className:`px-4 py-2 text-right tabular-nums ${textClass}`,children:total.toLocaleString('de-DE',{style:'currency',currency:'EUR'})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-4 py-2\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:row.info||'',onChange:e=>updateRow(beschreibung,{info:e.target.value}),className:`w-full px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`,placeholder:\"z.B. Remote / vor Ort \\u2026\"})})]},beschreibung);})})]})})]},sec.section);})}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:`md:col-start-3 ${sumBoxClass} ${borderClass} rounded-md p-4`,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm ${textSecondaryClass}`,children:\"Summe Netto\"}),/*#__PURE__*/_jsx(\"span\",{className:`font-medium ${textClass}`,children:sumNetto.toLocaleString('de-DE',{style:'currency',currency:'EUR'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-2\",children:[/*#__PURE__*/_jsxs(\"span\",{className:`text-sm ${textSecondaryClass}`,children:[\"MwSt (\",mwst||0,\"%)\"]}),/*#__PURE__*/_jsx(\"span\",{className:`font-medium ${textClass}`,children:sumMwst.toLocaleString('de-DE',{style:'currency',currency:'EUR'})})]}),/*#__PURE__*/_jsxs(\"div\",{className:`flex items-center justify-between mt-2 border-t ${borderClass} pt-2`,children:[/*#__PURE__*/_jsx(\"span\",{className:`text-sm font-semibold ${textClass}`,children:\"Summe Brutto\"}),/*#__PURE__*/_jsx(\"span\",{className:`text-lg font-bold ${textClass}`,children:sumBrutto.toLocaleString('de-DE',{style:'currency',currency:'EUR'})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors\",children:loading?'Speichern...':'Kalkulation speichern'})})]})});}","map":{"version":3,"names":["React","useEffect","useMemo","useState","ChevronRight","ChevronDown","jsx","_jsx","jsxs","_jsxs","CalculationSection","_ref","_calculationForm$stun","customers","calculationForm","setCalculationForm","mwst","setMwst","loading","onSubmit","isDark","TEMPLATE","section","items","DESC_TO_SECTION","m","forEach","sec","it","bgClass","borderClass","textClass","textSecondaryClass","textMutedClass","inputClass","tableHeaderClass","sumBoxClass","openSections","setOpenSections","Object","fromEntries","map","s","toggleSection","prev","expandAll","collapseAll","buildSeedFromTemplate","flatMap","beschreibung","anzahl","dauer_pro_einheit","info","stundensatz","undefined","needsSeed","dienstleistungen","length","every","d","updateRow","patch","list","idx","findIndex","x","push","rowHours","Number","rowRate","_d$stundensatz","rowTotal","sumNetto","reduce","acc","sumMwst","sumBrutto","sectionSummary","rows","filter","includes","count","hours","a","total","handleSubmit","e","preventDefault","kunde_id","alert","defaultRate","sanitized","row","trim","payload","className","children","required","value","onChange","target","k","kunden_id","firmenname","type","min","step","placeholder","onClick","open","sum","toFixed","toLocaleString","style","currency","_row$stundensatz","_calculationForm$stun2","find","rate","String","disabled"],"sources":["C:/Users/Ashraf/projekt-pauly/client/src/features/kalkulation/calculationSection.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { ChevronRight, ChevronDown } from 'lucide-react';\r\n\r\nexport default function CalculationSection({\r\n  customers,\r\n  calculationForm,\r\n  setCalculationForm,\r\n  mwst,\r\n  setMwst,\r\n  loading,\r\n  onSubmit,\r\n  isDark,\r\n}) {\r\n  const TEMPLATE = [\r\n    { section: 'Vorbereitende Maßnahmen', items: [\r\n      'Aufbau Testumgebung',\r\n      'Installation Firmware Server',\r\n      'Konfiguration Server',\r\n      'Lizenzregistrierungen VMWare,Veeam, VLSC/OpenLicense',\r\n      'Konfiguration USV inkl. Shutdown etc.',\r\n      'Installatioin/Firmwareupdates/Grundkonfiguration MSA',\r\n      'Installatioin/Firmwareupdates/Grundkonfiguration Nimble',\r\n      'Einrichten Volumes',\r\n      'Konfiguration Nimble Peer Persistance',\r\n      'Konfiguration SAN (iSCI)',\r\n      'Konfiguration SAN (Fibre Channel, Zoning)',\r\n      'Konfiguration Storageanbindung (Neusysteme/Altsysteme zur Migration)',\r\n      'Installation und Patchen Betriebssystem VMWare',\r\n      'Installation und Patchen Betriebssystem Windows Server',\r\n      'Installation und Patchen pro Windows-VM',\r\n      'Installation/Grundkonfiguration Hyper-V',\r\n      'Installation/Grundkonfiguration VCSA',\r\n      'Konfiguration VMWare-Dienste (HA etc.)',\r\n      'Installation/Grundkonfiguration Active Directory inkl. Serverrollen (DNS,DHCP etc.)',\r\n    ]},\r\n    { section: 'Hardware-Arbeiten vor Ort', items: [\r\n      'Einbau Hardware vor Ort',\r\n      'Rackumbau',\r\n      'Konfiguration Switch Management, pro VLAN',\r\n    ]},\r\n    { section: 'Software-Arbeiten (Remote)', items: [\r\n      'Migrationsvorbereitungen (Patchen Altsysteme) pro System',\r\n      'Einrichtung/Migration Active Directory pro User',\r\n      'Konfiguration pro Gruppenrichtlinie',\r\n      'Installation/Grundkonfiguration Exchange Server',\r\n      'Konfiguration Exchange DAG',\r\n      'Migration Exchange-Mailbox pro User',\r\n      'Migration Public Folder-Datenbank pro PF',\r\n      'Konfiguration Mail-Filtertools',\r\n      'Grundkonfiguration Exchange Online Admin-Portal',\r\n      'Migration zu Exchange Online mit Office 365 pro Konto',\r\n      'Neueinrichtung Exchange Online 365 ohne bisherigen Exchange',\r\n      'Konfiguration Azure AD-Sync',\r\n      'Neuinstallation/Migration SEPM',\r\n      'Rollout SEPM-Pakete, ggf. Konfiguration Policies',\r\n      'Rollout Sophos',\r\n      'Rollout/Prüfung Monitoring',\r\n      'Installation/Migration Mailstore',\r\n      'Migration pro Fachanwendung (Zeitschätzung circa und in Kooperation mit dem Softwarehersteller)',\r\n      'Migration File-Server, neue Shares, ACL',\r\n      'Installation/Konfiguration/Lizensierung Terminal Server',\r\n      'Migration pro VM auf neue Hosts',\r\n      'Virtualisierung pro VM (P-2-V/V-2-V)',\r\n      'Installation, Konfiguration, Test HPDM/UMS',\r\n      'Installation Backup-Software',\r\n      'Backup-Konfiguration und Test',\r\n    ]},\r\n    { section: 'Client-Anpassungen vor Ort', items: [\r\n      'Migration pro Client-PC',\r\n      'Grundkonfiguration pro Client-PC (neuer PC)',\r\n      'Einrichten Thin-Client',\r\n    ]},\r\n    { section: 'Firewall-Anpassungen / Einrichtung vor Ort', items: [\r\n      'Einrichtung Sonicwall im Netz (Einbau, Einbinden ins Netz, VPN-Zugang, Site-to-Site-VPN)',\r\n    ]},\r\n    { section: 'Dokumentation', items: [\r\n      'Dokumentation inkl. Handout für den Kunden',\r\n    ]},\r\n  ];\r\n\r\n  // Map: Beschreibung -> Section (für sauberes Speichern)\r\n  const DESC_TO_SECTION = useMemo(() => {\r\n    const m = {};\r\n    TEMPLATE.forEach(sec => sec.items.forEach(it => { m[it] = sec.section; }));\r\n    return m;\r\n  }, []);\r\n\r\n  // Styles\r\n  const bgClass = isDark ? 'bg-gray-800' : 'bg-white';\r\n  const borderClass = isDark ? 'border-gray-700' : 'border-gray-200';\r\n  const textClass = isDark ? 'text-gray-100' : 'text-gray-900';\r\n  const textSecondaryClass = isDark ? 'text-gray-300' : 'text-gray-700';\r\n  const textMutedClass = isDark ? 'text-gray-400' : 'text-gray-500';\r\n  const inputClass = isDark\r\n    ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500'\r\n    : 'bg-white border-gray-300 text-gray-900 placeholder-gray-500 focus:ring-blue-500 focus:border-blue-500';\r\n  const tableHeaderClass = isDark ? 'bg-gray-700' : 'bg-gray-50';\r\n  const sumBoxClass = isDark ? 'bg-gray-700' : 'bg-gray-50';\r\n\r\n  // Accordion (initial: alles zu)\r\n  const [openSections, setOpenSections] = useState(() =>\r\n    Object.fromEntries(TEMPLATE.map(s => [s.section, false]))\r\n  );\r\n  const toggleSection = (section) =>\r\n    setOpenSections(prev => ({ ...prev, [section]: !prev[section] }));\r\n  const expandAll = () =>\r\n    setOpenSections(Object.fromEntries(TEMPLATE.map(s => [s.section, true])));\r\n  const collapseAll = () =>\r\n    setOpenSections(Object.fromEntries(TEMPLATE.map(s => [s.section, false])));\r\n\r\n  // Seed aus Template\r\n  const buildSeedFromTemplate = () =>\r\n    TEMPLATE.flatMap(sec =>\r\n      sec.items.map(beschreibung => ({\r\n        beschreibung,\r\n        anzahl: 1,\r\n        dauer_pro_einheit: 0,\r\n        info: '',\r\n        stundensatz: undefined,\r\n        section: sec.section,\r\n      })),\r\n    );\r\n\r\n  useEffect(() => {\r\n    setCalculationForm(prev => {\r\n      const needsSeed =\r\n        !prev?.dienstleistungen ||\r\n        prev.dienstleistungen.length === 0 ||\r\n        prev.dienstleistungen.every(d => !d?.beschreibung);\r\n\r\n      return needsSeed\r\n        ? { ...prev, dienstleistungen: buildSeedFromTemplate() }\r\n        : prev;\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // Update-Helper\r\n  const updateRow = (beschreibung, patch) => {\r\n    setCalculationForm(prev => {\r\n      const list = [...(prev.dienstleistungen || [])];\r\n      const idx = list.findIndex(x => x.beschreibung === beschreibung);\r\n      if (idx === -1) {\r\n        list.push({\r\n          beschreibung,\r\n          anzahl: 1,\r\n          dauer_pro_einheit: 0,\r\n          info: '',\r\n          stundensatz: undefined,\r\n          section: DESC_TO_SECTION[beschreibung] || null,\r\n          ...patch\r\n        });\r\n      } else {\r\n        list[idx] = { ...list[idx], ...patch };\r\n      }\r\n      return { ...prev, dienstleistungen: list };\r\n    });\r\n  };\r\n\r\n  // Rechnen\r\n  const rowHours = d => (Number(d.dauer_pro_einheit) || 0) * (Number(d.anzahl) || 1);\r\n  const rowRate  = d => Number(d.stundensatz ?? calculationForm.stundensatz) || 0;\r\n  const rowTotal = d => rowHours(d) * rowRate(d);\r\n\r\n  const sumNetto  = (calculationForm.dienstleistungen || []).reduce((acc, d) => acc + rowTotal(d), 0);\r\n  const sumMwst   = sumNetto * ((Number(mwst) || 0) / 100);\r\n  const sumBrutto = sumNetto + sumMwst;\r\n\r\n  const sectionSummary = (sec) => {\r\n    const rows = (calculationForm.dienstleistungen || []).filter(d => sec.items.includes(d.beschreibung));\r\n    const count = rows.length;\r\n    const hours = rows.reduce((a, d) => a + rowHours(d), 0);\r\n    const total = rows.reduce((a, d) => a + rowTotal(d), 0);\r\n    return { count, hours, total };\r\n  };\r\n\r\n  // Submit: nur Kunde als Pflichtfeld, Rest wird „sanitized“\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (!calculationForm.kunde_id) {\r\n      alert('Bitte einen Kunden auswählen');\r\n      return;\r\n    }\r\n\r\n    const defaultRate =\r\n      calculationForm.stundensatz === undefined || calculationForm.stundensatz === ''\r\n        ? null\r\n        : Number(calculationForm.stundensatz) || 0;\r\n\r\n    const sanitized = (calculationForm.dienstleistungen || []).map((row) => ({\r\n      beschreibung: row.beschreibung,\r\n      section: row.section || DESC_TO_SECTION[row.beschreibung] || null,\r\n      anzahl: Number(row.anzahl) || 0,\r\n      dauer_pro_einheit: Number(row.dauer_pro_einheit) || 0,\r\n      info: (row.info || '').trim() || null,\r\n      stundensatz:\r\n        row.stundensatz === undefined || row.stundensatz === ''\r\n          ? null\r\n          : Number(row.stundensatz) || 0,\r\n    }));\r\n\r\n    const payload = {\r\n      kunde_id: calculationForm.kunde_id,\r\n      stundensatz: defaultRate,            // darf null sein\r\n      dienstleistungen: sanitized,         // auch „leere“ Zeilen erlaubt\r\n      mwst: Number(mwst) || 0,             // falls Backend ignoriert, egal\r\n    };\r\n\r\n    // Parent-Handler mit (event, payload) aufrufen\r\n    if (typeof onSubmit === 'function') {\r\n      onSubmit(e, payload);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={`${bgClass} ${borderClass} rounded-lg shadow-sm border p-6`}>\r\n      <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n        {/* Kopf */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <div>\r\n            <label className={`block text-sm font-medium ${textSecondaryClass} mb-2`}>Kunde auswählen *</label>\r\n            <select\r\n              required\r\n              value={calculationForm.kunde_id}\r\n              onChange={(e) => setCalculationForm({ ...calculationForm, kunde_id: e.target.value })}\r\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${inputClass}`}\r\n            >\r\n              <option value=\"\">Kunde wählen...</option>\r\n              {customers.map((k) => (\r\n                <option key={k.kunden_id} value={k.kunden_id}>\r\n                  {k.firmenname}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div>\r\n            <label className={`block text-sm font-medium ${textSecondaryClass} mb-2`}>Standard-Stundensatz (€)</label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              step=\"any\"\r\n              value={calculationForm.stundensatz ?? ''}\r\n              onChange={(e) =>\r\n                setCalculationForm({\r\n                  ...calculationForm,\r\n                  stundensatz: e.target.value === '' ? undefined : Number(e.target.value),\r\n                })\r\n              }\r\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${inputClass}`}\r\n              placeholder=\"z. B. 85\"\r\n            />\r\n            <p className={`text-xs ${textMutedClass} mt-1`}>\r\n              Wird genutzt, wenn in einer Zeile kein eigener Satz steht.\r\n            </p>\r\n          </div>\r\n\r\n          <div>\r\n            <label className={`block text-sm font-medium ${textSecondaryClass} mb-2`}>MwSt (%)</label>\r\n            <input\r\n              type=\"number\"\r\n              min=\"0\"\r\n              step=\"any\"\r\n              value={mwst ?? ''}\r\n              onChange={(e) => setMwst(e.target.value === '' ? 0 : Number(e.target.value))}\r\n              className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 ${inputClass}`}\r\n              placeholder=\"z. B. 19\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Steuerung */}\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={expandAll}\r\n            className=\"px-3 py-1.5 text-sm rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n          >\r\n            Alle ausklappen\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={collapseAll}\r\n            className=\"px-3 py-1.5 text-sm rounded-md border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-700\"\r\n          >\r\n            Alle einklappen\r\n          </button>\r\n        </div>\r\n\r\n        {/* Sektionen */}\r\n        <div className={`border-t ${borderClass} pt-4`}>\r\n          {TEMPLATE.map((sec) => {\r\n            const open = openSections[sec.section];\r\n            const sum = sectionSummary(sec);\r\n            return (\r\n              <div key={sec.section} className={`mb-4 rounded-lg border ${borderClass} ${isDark ? 'bg-gray-900' : 'bg-white'}`}>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => toggleSection(sec.section)}\r\n                  aria-expanded={open}\r\n                  className=\"w-full flex items-center justify-between px-4 py-3\"\r\n                >\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {open ? (\r\n                      <ChevronDown className={`w-5 h-5 ${textMutedClass}`} />\r\n                    ) : (\r\n                      <ChevronRight className={`w-5 h-5 ${textMutedClass}`} />\r\n                    )}\r\n                    <h4 className={`text-sm md:text-base font-semibold ${textClass}`}>{sec.section}</h4>\r\n                  </div>\r\n                  <div className={`text-xs md:text-sm ${textMutedClass}`}>\r\n                    {sum.count} Pos. • {sum.hours.toFixed(2)} h •{' '}\r\n                    {sum.total.toLocaleString('de-DE', { style: 'currency', currency: 'EUR' })}\r\n                  </div>\r\n                </button>\r\n\r\n                {open && (\r\n                  <div className={`overflow-x-auto border-t ${borderClass}`}>\r\n                    <table className=\"w-full text-sm\">\r\n                      <thead className={`${tableHeaderClass} border-b ${borderClass}`}>\r\n                        <tr>\r\n                          <th className={`px-4 py-2 text-left font-medium ${textSecondaryClass}`}>Tätigkeit</th>\r\n                          <th className={`px-4 py-2 text-right font-medium ${textSecondaryClass}`}>Anzahl</th>\r\n                          <th className={`px-4 py-2 text-right font-medium ${textSecondaryClass}`}>Std/Einheit</th>\r\n                          <th className={`px-4 py-2 text-right font-medium ${textSecondaryClass}`}>Stundensatz (€)</th>\r\n                          <th className={`px-4 py-2 text-right font-medium ${textSecondaryClass}`}>Stunden gesamt</th>\r\n                          <th className={`px-4 py-2 text-right font-medium ${textSecondaryClass}`}>Betrag (€)</th>\r\n                          <th className={`px-4 py-2 text-left font-medium ${textSecondaryClass}`}>Notiz</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className={`divide-y ${borderClass}`}>\r\n                        {sec.items.map((beschreibung) => {\r\n                          const row =\r\n                            (calculationForm.dienstleistungen || []).find(d => d.beschreibung === beschreibung) ||\r\n                            { beschreibung, anzahl: 1, dauer_pro_einheit: 0, info: '', stundensatz: undefined, section: DESC_TO_SECTION[beschreibung] || null };\r\n\r\n                          const hours = rowHours(row);\r\n                          const rate = rowRate(row);\r\n                          const total = hours * rate;\r\n\r\n                          return (\r\n                            <tr key={beschreibung} className={bgClass}>\r\n                              <td className=\"px-4 py-2\">\r\n                                <span className={`${textClass}`}>{beschreibung}</span>\r\n                              </td>\r\n\r\n                              <td className=\"px-4 py-2 text-right\">\r\n                                <input\r\n                                  type=\"number\"\r\n                                  min=\"0\"\r\n                                  step=\"any\"\r\n                                  value={row.anzahl}\r\n                                  onChange={(e) => updateRow(beschreibung, { anzahl: Number(e.target.value) || 0 })}\r\n                                  className={`w-24 text-right px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`}\r\n                                />\r\n                              </td>\r\n\r\n                              <td className=\"px-4 py-2 text-right\">\r\n                                <input\r\n                                  type=\"number\"\r\n                                  min=\"0\"\r\n                                  step=\"any\"\r\n                                  value={row.dauer_pro_einheit}\r\n                                  onChange={(e) => updateRow(beschreibung, { dauer_pro_einheit: Number(e.target.value) || 0 })}\r\n                                  className={`w-28 text-right px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`}\r\n                                />\r\n                              </td>\r\n\r\n                              <td className=\"px-4 py-2 text-right\">\r\n                                <input\r\n                                  type=\"number\"\r\n                                  min=\"0\"\r\n                                  step=\"any\"\r\n                                  value={row.stundensatz ?? ''}\r\n                                  onChange={(e) =>\r\n                                    updateRow(\r\n                                      beschreibung,\r\n                                      { stundensatz: e.target.value === '' ? undefined : Number(e.target.value) }\r\n                                    )\r\n                                  }\r\n                                  className={`w-28 text-right px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`}\r\n                                  placeholder={String(calculationForm.stundensatz ?? '')}\r\n                                />\r\n                                <p className={`text-[10px] ${textMutedClass} mt-0.5`}>\r\n                                  leer = {Number(calculationForm.stundensatz || 0).toFixed(2)} €\r\n                                </p>\r\n                              </td>\r\n\r\n                              <td className={`px-4 py-2 text-right tabular-nums ${textClass}`}>\r\n                                {hours.toFixed(2)}\r\n                              </td>\r\n\r\n                              <td className={`px-4 py-2 text-right tabular-nums ${textClass}`}>\r\n                                {total.toLocaleString('de-DE', { style: 'currency', currency: 'EUR' })}\r\n                              </td>\r\n\r\n                              <td className=\"px-4 py-2\">\r\n                                <input\r\n                                  type=\"text\"\r\n                                  value={row.info || ''}\r\n                                  onChange={(e) => updateRow(beschreibung, { info: e.target.value })}\r\n                                  className={`w-full px-2 py-1 border rounded-md focus:outline-none focus:ring-1 ${inputClass}`}\r\n                                  placeholder=\"z.B. Remote / vor Ort …\"\r\n                                />\r\n                              </td>\r\n                            </tr>\r\n                          );\r\n                        })}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Summenbox */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n          <div className={`md:col-start-3 ${sumBoxClass} ${borderClass} rounded-md p-4`}>\r\n            <div className=\"flex items-center justify-between\">\r\n              <span className={`text-sm ${textSecondaryClass}`}>Summe Netto</span>\r\n              <span className={`font-medium ${textClass}`}>\r\n                {sumNetto.toLocaleString('de-DE', { style: 'currency', currency: 'EUR' })}\r\n              </span>\r\n            </div>\r\n            <div className=\"flex items-center justify-between mt-2\">\r\n              <span className={`text-sm ${textSecondaryClass}`}>MwSt ({mwst || 0}%)</span>\r\n              <span className={`font-medium ${textClass}`}>\r\n                {sumMwst.toLocaleString('de-DE', { style: 'currency', currency: 'EUR' })}\r\n              </span>\r\n            </div>\r\n            <div className={`flex items-center justify-between mt-2 border-t ${borderClass} pt-2`}>\r\n              <span className={`text-sm font-semibold ${textClass}`}>Summe Brutto</span>\r\n              <span className={`text-lg font-bold ${textClass}`}>\r\n                {sumBrutto.toLocaleString('de-DE', { style: 'currency', currency: 'EUR' })}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex justify-end\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={loading}\r\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors\"\r\n          >\r\n            {loading ? 'Speichern...' : 'Kalkulation speichern'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}